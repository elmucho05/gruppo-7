{% extends 'base.html' %}
{% block title %}Chess{% endblock %}

{% block content %}
{% include 'navbar.html' %}
<div class="container py-5">

  {% include 'alert.html' %}

  <!-------- Header -------->
  <!------------------------>
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="page-content">
          <div class="container">
            <div class="text-center my-0">
              <div class="text-center my-0">
                <h1 class="fw-bolder">Benvenuto!</h1>
                <p class="lead mb-0">Gioca a scacchi online gratis.</p>
                <p class="lead mb-0"></p>Divertiti affrontando i tuoi amici o sfidando il computer!</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      </div>
  </div>
  <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="page-content">

<!-- ***** Most Popular Start ***** -->
              <div class="most-popular">
                    <div class="row"  style="width:100%">
                      <!----- Singleplayer ----->
                      <!------------------------>
                      <div class="col-lg-3 col-sm-6" style="width:50%">
                        <div class="item"  >
                          <h4 style="font-size:30px;">Singleplayer<br><div class=" text-muted">1 VS PC</div></h4>
                          <ul>
                            <a class="btn btn-primary" href="{% url 'view_singleplayer' %}">Vai alla partita →</a>
                          </ul>
                        </div>
                      </div>
<!--Aggiunta tasto per giocare a chess960-->
                      <div class="col-lg-3 col-sm-6" style="width:50%">
                        <div class="item"  >
                          <h4 style="font-size:30px;">Chess960<br><div class=" text-muted">Modalita alternativa</div></h4>
                          <ul>
                            <a class="btn btn-primary" href="{% url 'view_create_room960'%}">Vai alla partita →</a>
                          </ul>
                        </div>
                      </div>
                    </div>

              </div>
              <!-- Blocco End ***** -->
<!----- Multiplayer ------>
 <!------------------------>
<div class="most-popular">
  <div class="row">
    <div class="col-lg-12">
  <div class="card border-0" style="background-color: #27292a;">
        <h3 class="card-header" style="color: #fff;">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
            <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
          </svg>
          Modalità multiplayer
        </h3>
        <div class="card-body" >
          <ul class="list-group list-group-flush">

            {% if player_room %}
            <li class="list-group-item mb-3" style="background-color: #45493c;" >
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-right" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8Zm-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5Z"/>
              </svg>
              <a href="{% url 'view_room' player_room.room %}">
                <strong>Rientra in partita</strong>
              </a>
            </li>
            {% endif %}

            <li class="list-group-item mb-3" style="background-color: #45493c;" >
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus" viewBox="0 0 16 16" style="color: #fff;">
                <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
              </svg>
              <a href="{% url 'view_create_room' %}">
                <strong>Crea nuova partita</strong>
              </a>
            </li>

            <li class="list-group-item mb-3" style="background-color: #45493c;">
              <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16" style="color: #fff;">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
              </svg>
                <a href="{% url 'view_search_public_room' %}"><strong>Cerca partita pubblica</strong></a>
            </li>

            <li class="list-group-item mb-3"  style="background-color: #45493c;">
              <strong  style="color: #fff;">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-door-open" viewBox="0 0 16 16">
                  <path d="M8.5 10c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"/>
                  <path d="M10.828.122A.5.5 0 0 1 11 .5V1h.5A1.5 1.5 0 0 1 13 2.5V15h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V1.5a.5.5 0 0 1 .43-.495l7-1a.5.5 0 0 1 .398.117zM11.5 2H11v13h1V2.5a.5.5 0 0 0-.5-.5zM4 1.934V15h6V1.077l-6 .857z"/>
                </svg>
                Partecipa ad una partita
              </strong>
              <form id="join-room" class="mt-2">
                <div class="row">
                  <div class="col-4">
                    <input class="form-control" id="room-name" type="text" minlength="6" maxlength="6" required placeholder="Nome della lobby">
                  </div>
                  <div class="col-8 d-grid gap-2 d-md-block">
                    <button class="btn btn-primary" type="submit" action="join">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-right" viewBox="0 0 16 16">
                        <path fill-rule="evenodd" d="M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8Zm-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5Z"/>
                      </svg>
                      Entra
                    </button>
                    <button class="btn btn-primary" type="submit" action="spect">
                      <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
                        <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                        <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                      </svg>
                      Entra come spettatore
                    </button>
                  </div>
                </div>
              </form>
            </li>

          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="most-popular">
<div class="row">
    <div class="col-lg-12">
      <!----- Tournament ------>
      <!------------------------>
      <div class="card border-0" style="background-color: #27292a;">
        <h3 class="card-header" style="color: #fff;">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="currentColor" class="bi bi-people-fill" viewBox="0 0 16 16">
            <path d="M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"/>
          </svg>
          Modalità torneo 4(8-16) giocatori
        </h3>
        <div class="card-body"  style="background-color: #45493c;">
          <a href="{% url 'view_tornament_lobby' 'TEST12' %}" >
            <strong>Partecipa al torneo</strong>
          </a>
        </div>
      </div>

    </div>
</div>





      <div class="mb-5"></div>

    </div>
</div>

{% endblock %}

{% block script %}
<script>
  $(document).ready(function(){
    $('#join-room').on('submit', function(e){
      e.preventDefault();
      
      const roomName = $('#room-name').val();
      const action = 'join';
      window.location.href = `{% url 'view_home' %}?action=${action}&room=${roomName}`;
    });
  });
</script>
{% endblock %}